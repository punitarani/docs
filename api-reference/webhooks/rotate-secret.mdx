---
title: "Rotate a webhook secret"
openapi: "POST /v1/webhooks/endpoints/{endpoint_id}/rotate-secret"
---

Generate a new secret for a webhook endpoint. Use this if the current secret is compromised or as part of regular security rotation.

<Panel>
  <Warning>
    **Immediate Effect**

    - The old secret becomes invalid immediately
    - Update your webhook handler before rotating
    - The new secret is only shown in this response
    - Save it securely before leaving this page
  </Warning>

  <Tip>
    Rotate secrets every 90 days as a security best practice.
  </Tip>
</Panel>

<RequestExample>

```bash cURL
curl -X POST "https://api.peepal.dev/v1/webhooks/endpoints/wh_01ARZ3NDEKTSV4RRFFQ69G5FAV/rotate-secret" \
  -H "x-api-key: YOUR_API_KEY"
```

```python Python
import requests

endpoint_id = "wh_01ARZ3NDEKTSV4RRFFQ69G5FAV"
url = f"https://api.peepal.dev/v1/webhooks/endpoints/{endpoint_id}/rotate-secret"
headers = {"x-api-key": "YOUR_API_KEY"}

response = requests.post(url, headers=headers)
result = response.json()

# Save the new secret securely
new_secret = result["secret"]
```

```javascript JavaScript
const endpointId = 'wh_01ARZ3NDEKTSV4RRFFQ69G5FAV';
const url = `https://api.peepal.dev/v1/webhooks/endpoints/${endpointId}/rotate-secret`;

const response = await fetch(url, {
  method: 'POST',
  headers: {
    'x-api-key': 'YOUR_API_KEY'
  }
});

const result = await response.json();
// Save result.secret securely
```

</RequestExample>

<ResponseExample>

```json 200 OK
{
  "endpoint_id": "wh_01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "secret": "whsec_x9y8z7w6v5u4t3s2r1q0p9o8n7m6l5k4",
  "rotated_at": "2025-12-31T10:00:00Z"
}
```

</ResponseExample>
